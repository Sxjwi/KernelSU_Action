CONFIG_ENV=config.env

# 内核源码配置 (已替换为realme官方源)
KERNEL_SOURCE=https://github.com/realme-kernel-opensource/realme_V11_V11S-AndroidR-kernel-source.git
KERNEL_SOURCE_BRANCH=master  # 使用master分支（官方仓库默认分支）
KERNEL_CONFIG=arch/arm64/configs/oppo6833_defconfig  # realme V11专用配置文件
KERNEL_IMAGE_NAME=Image.gz-dtb  # 天玑平台标准内核格式
ARCH=arm64
ADD_LOCALVERSION_TO_FILENAME=true  # 文件名包含版本信息便于识别
EXTRA_CMDS:LD=ld.lld

# Clang配置 (Android 11专用版本)
CLANG_BRANCH=android11-release
CLANG_VERSION=r383902b  # Clang 11.0.2 (Android 11推荐版本)

# GCC配置 (使用AOSP自带工具链)
ENABLE_GCC_ARM64=true
ENABLE_GCC_ARM32=true

# KernelSU配置 (强制开启)
ENABLE_KERNELSU=true
KERNELSU_TAG=v0.9.5  # 非GKI设备专用稳定版
ADD_KPROBES_CONFIG=true  # 启用Kprobes支持
ADD_OVERLAYFS_CONFIG=true  # 支持System分区读写
APPLY_KSU_PATCH=true  # 内核版本4.14需要补丁
KSU_EXPECTED_SIZE=0x033b  # 官方推荐签名参数
KSU_EXPECTED_HASH=c371061b19d8c7d7d6133c6a9bafe198fa944e50c1b31c9d8daa8d7f1fc2d2d6

# 编译优化
DISABLE_LTO=false
DISABLE_CC_WERROR=true  # 忽略警告错误（提高编译成功率）
ENABLE_CCACHE=true  # 启用编译缓存
REMOVE_UNUSED_PACKAGES=true

# AnyKernel3配置 (保持默认)
USE_CUSTOM_ANYKERNEL3=false

# Boot镜像配置 (无需修改)
NEED_DTBO=false
BUILD_BOOT_IMG=false
